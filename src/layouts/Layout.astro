---
import '../styles.astro';
import plainwhiteConfig from '../plainwhite.config';
import Footer from './Footer.astro';

interface Props {
    title: string;
    pageType: 'page' | 'post' | 'home';
}
const { title, pageType } = Astro.props;

const {
    plainwhite: {
        html_lang,
        name,
        condensed_mobile,
        dark_mode,
        portfolio_image_dark,
        portfolio_image,
        tagline,
    },
} = plainwhiteConfig;

const condensedClass = condensed_mobile.includes(pageType) ? 'condensed' : '';
---

<!doctype html>
<html lang={html_lang}>
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link
            href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700"
            rel="stylesheet"
        />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title></head
    >

    <body>
        <main class="container">
            <section class="about">
                <div class={`about-header ${condensedClass}`}>
                    <div class="about-title">
                        <a href="/">
                            {
                                portfolio_image_dark.length && dark_mode ? (
                                    <>
                                        <img
                                            class="light"
                                            src={`/${portfolio_image_dark}`}
                                            alt={name}
                                        />
                                        <img
                                            class="dark"
                                            src={`/${portfolio_image}`}
                                            alt={name}
                                        />
                                    </>
                                ) : (
                                    <img
                                        src={`/${portfolio_image}`}
                                        alt={name}
                                    />
                                )
                            }
                        </a>
                        <h2 id="title">
                            <a href="/">{name}</a>
                        </h2>
                    </div>
                    {tagline.length && <p class="tagline">{tagline}</p>}
                </div>
                <Footer condensedClass={condensedClass} />
            </section>
            <section class="content">
                <slot />
            </section>
            <footer class=`${condensedClass}`>
                <Footer condensedClass={condensedClass} />
            </footer>
        </main>
        <!--{% if site.plainwhite.dark_mode %}
	<script type="text/javascript" src="{{ "/assets/js/darkmode.js" | relative_url }}"></script>
	{% endif %}

	{%- if site.plainwhite.analytics_id -%}
	<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.plainwhite.analytics_id }}"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', '{{ site.plainwhite.analytics_id }}');
	</script>
	{%- endif -%}

	{% if site.plainwhite.search %}
	<script src="{{ "/assets/js/simple-jekyll-search.min.js" | relative_url }}"></script>
	<script src="{{ "/assets/js/search.js" | relative_url }}"></script>
	{% endif %}-->
    </body>
</html>
